<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
<meta name='viewport' 
     content='width=device-width, initial-scale=1.0, maximum-scale=1.0, 
     user-scalable=0' >
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>1:1 Diet</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css2?family=Londrina+Solid:wght@100;300;400;900&display=swap" rel="stylesheet">
  
  <!-- Custom styles for this template -->
  <link href="css/custom.css" rel="stylesheet">

  <script src="js/custom.js"></script>

   <!-- jQuery -->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>


   <script type="text/javascript">
    function getRecipes(){
        fetch('http://172.16.1.40:3000/recipes')
            .then(response => response.json())
            .then(data => renderRecipes(data));
    }
    function renderRecipes(data){
        console.log(data)
        let content  = document.querySelector('#recipes .carousel-inner');
        for (var i = 0; i < data.length; i++){
          // console.log(data.results[i].name)
          
          if (i == 0){
            // console.log(data[i]);
            content.innerHTML += '<div class="carousel-item active"> <a data-id="' + data[i].CommunityID + '" href="#" class="card recipes"> <div class="card-content"> <h3 id="title">' + data[i].Title + '</h3> <p id="description">' + data[i].Preparation + '</p><div class="card-links"><div class="card-link"><i class="far fa-heart"></i><p id="likes">12</p></div><div class="card-link"><i class="far fa-comment"></i><p id="comments">12</p></div><div class="card-link"><i class="far fa-star"></i><p id="populairity">12</p></div></div></div></a></div>';
          }
          else {
            content.innerHTML += '<div class="carousel-item"> <a data-id="' + data[i].CommunityID + '"href="#" class="card recipes"> <div class="card-content"> <h3 id="title">' + data[i].Title + '</h3> <p id="description">' + data[i].Preparation + '</p><div class="card-links"><div class="card-link"><i class="far fa-heart"></i><p id="likes">12</p></div><div class="card-link"><i class="far fa-comment"></i><p id="comments">12</p></div><div class="card-link"><i class="far fa-star"></i><p id="populairity">12</p></div></div></div></a></div>';
          }
        }
        
        jQuery(document).ready(function(){
          jQuery('a.recipes').on('click', function(){               
            let recipeID = $(this).data("id");
            getRecipe(recipeID);
          });
        });
      
        function getRecipe(id) {
        fetch('http://172.16.1.40:3000/recipes')
            .then(response => response.json())
            .then(data => TESTrenderRecipe(data, id));
        }

        function TESTrenderRecipe(data, id) {
        
        $.each(data, function (index, jsonObject) {
          // let recipeContent = document.querySelector('#recipe');
          let recipeContent = $('#recipe');
          let communityContent = $('#community');
            if (jsonObject.CommunityID == id) {
                // console.log(jsonObject);
                // console.log(jsonObject.CommunityID);
                recipeContent.html('<section> <div class="container"> <div class="row"> <div class="col-12"> <div class="recipeHead"> <div class="recipeWrap"> <div class="recipeImg"> <img src="img/recipes.jpg"> </div><img src="img/frame.png"> <div class="faseIcon d-flex align-items-center justify-content-center"> <p class="faseText">Stap</p><p class="faseNr">' + jsonObject.Step + '</p></div></div><h2 id="title">' + jsonObject.Title + '</h2> <div class="views d-flex align-items-center"> <i class="fas fa-eye"></i> <p class="view-count">' + jsonObject.AverageRanking + '</p></div></div><div class="recipeContent"> <h4>Dit recept bevat</h4> <p>2/3 portie groente | 1 portie eiwit |1/5 portie zuivel</p><h4>Ingrediënten</h4> <p>' + jsonObject.Ingredients + '</p><h4>Bereiding</h4> <p id="preparation">' + jsonObject.Preparation + '</p></div><div class="recipeLink text-center"> <a href="#" class="link"> <i class="far fa-heart"></i> </a> <a href="#" class="link"> <i class="far fa-comment"></i> </a> <a href="#" class="link"> <i class="far fa-star"></i> </a> <i class="fas fa-times closeRecipe" style="display: block;padding: 15px;font-size: 30px;color: #dcdcdc;"></i> </div></div></div></div></section>');
                
                recipeContent.toggle();
                communityContent.toggle();
            }
          });
          
          jQuery(document).ready(function(){
            let communityContent = $('#community');
            jQuery('.closeRecipe').on('click', function(){               
              $('#recipe').hide();
              communityContent.toggle();
            });
          });

        }
    }

getRecipes()
  </script>


</head>

<body>
  <div id="recipe" style='display:none;'>
    
  </div>
  <div id="community" class="phone-res bg-pink">
    <header>
      <div class="logo">
        <img src="img/logo.png">
      </div>
    </header>
    <section>
      <div id="featured" class="container-fluid cardSlider">
        <div class="row">
          <div class="col-12">
            <div class="sliderTitle">
              <h2>Uitgelicht</h2>
              
              <a class="filter-button panel-title accordion-toggle" role="button" data-toggle="collapse" href="#collapseFeatured" aria-expanded="false" aria-controls="collapseFeatured">
                <i class="fas fa-list"></i>
              </a>

              <div class="filter-menu mobile">
                <form>
                  <div class="panel panel-mobile">
                    
                    <div class="panel-heading" role="tab" id="headingFiltersMobile"></div>

                    <div id="collapseFeatured" class="panel-filter panel-collapse collapse in" role="tabpanel" aria-labelledby="headingFiltersMobile">
                      <div class="panel-body">
                        <div class="panel-group" id="filter-menu-mobile" role="tablist" aria-multiselectable="true">

                          <div class="panel panel-mobile">
                            <div class="panel-heading" role="tab" id="headingOneMobile">
                              <a class="panel-title accordion-toggle" role="button" data-toggle="collapse" data-parent="#filter-menu-mobile" href="#collapseOneMobile" aria-expanded="true" aria-controls="collapseOneMobile">
                                Stap
                              </a>
                            </div>
                            <div id="collapseOneMobile" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOneMobile">
                              <div class="panel-body">
                                <div class="checkbox"><label><input type="checkbox" name="stap[]" value="1">1</label></div>
                                <div class="checkbox"><label><input type="checkbox" name="stap[]" value="2">2</label></div>
                                <div class="checkbox"><label><input type="checkbox" name="stap[]" value="3">3</label></div>
                              </div>
                            </div>
                          </div>
                          <div class="panel panel-mobile">
                            <div class="panel-heading" role="tab" id="headingTwoMobile">
                              <a class="panel-title accordion-toggle collapsed" role="button" data-toggle="collapse" data-parent="#filter-menu-mobile" href="#collapseTwoMobile" aria-expanded="false" aria-controls="collapseTwoMobile">
                                Categorieën
                              </a>
                            </div>
                            <div id="collapseTwoMobile" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwoMobile">
                              <div class="panel-body">
                                <div class="checkbox"><label><input type="checkbox" name="categorie[]" value="politics">Vlees</label></div>
                                <div class="checkbox"><label><input type="checkbox" name="categorie[]" value="religion">Vis</label></div>
                                <div class="checkbox"><label><input type="checkbox" name="categorie[]" value="music">Vegetarisch</label></div>
                              </div>
                            </div>
                          </div>
      
                          <div class="panel panel-mobile">
                            <div class="panel-heading" role="tab" id="headingThreeMobile">
                              <a class="panel-title accordion-toggle collapsed" role="button" data-toggle="collapse" data-parent="#filter-menu-mobile" href="#collapseThreeMobile" aria-expanded="false" aria-controls="collapseThreeMobile">
                                Hashtags
                              </a>
                            </div>
                            <div id="collapseThreeMobile" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThreeMobile">
                              <input type="text" placeholder="Zoeken..">
                            </div>
                          </div>
      
                          <div class="panel panel-mobile">
                            <div class="panel-heading" role="tab" id="headingFourMobile">
                              <a class="panel-title accordion-toggle collapsed" role="button" data-toggle="collapse" data-parent="#filter-menu-mobile" href="#collapseFourMobile" aria-expanded="false" aria-controls="collapseFourMobile">
                                Ingrediënten
                              </a>
                            </div>
                            <div id="collapseFourMobile" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFourMobile">
                              <input type="text" placeholder="Zoeken..">
                            </div>
                          </div>
                          
                          <div class="panel panel-mobile">
                            <div class="panel-heading" role="tab" id="headingFiveMobile">
                              <a class="panel-title accordion-toggle collapsed" role="button" data-toggle="collapse" data-parent="#filter-menu-mobile" href="#collapseFiveMobile" aria-expanded="false" aria-controls="collapseFiveMobile">
                                Allergenen
                              </a>
                            </div>
                            <div id="collapseFiveMobile" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFourMobile">
                              <input type="text" placeholder="Zoeken..">
                            </div>
                          </div>
                          

                          <div class="panel-footer">
                            <button class="btn" type="submit">Filters toepassen</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
              </div>

            </div>
          </div>
          <div class="col-12 no-p-h">
            <div class="sliderContent carousel slide" data-ride="carousel" data-interval="false">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <a href="#" class="card featured">
                    <div class="card-content">
                      <h3 id="title">Lorem ipsum 1</h3>
                      <p id="description">Lorem Ipsum is slechts een proeftekst uit het drukkerij- en zetterijwezen.</p>
                      <div class="card-links">
                        <div class="card-link" id="cardlink1">
                          <i class="far fa-heart" id="heart1"></i>
                          <p id="likes1">0</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-comment"></i>
                          <p id="comments">12</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-star"></i>
                          <p id="populairity">12</p>
                        </div>
                      </div>
                    </div>
                  </a>
                </div>
                <div class="carousel-item">
                  <a href="#" class="card featured">
                    <div class="card-content">
                      <h3 id="title">Lorem ipsum 2</h3>
                      <p id="description">Lorem Ipsum is slechts een proeftekst uit het drukkerij- en zetterijwezen.</p>
                      <div class="card-links">
                        <div class="card-link">
                          <i class="far fa-heart"></i>
                          <p id="likes">0</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-comment"></i>
                          <p id="comments">12</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-star"></i>
                          <p id="populairity">12</p>
                        </div>
                      </div>
                    </div>
                  </a>
                </div>
                <div class="carousel-item">
                  <a href="#" class="card featured">
                    <div class="card-content">
                      <h3 id="title">Lorem ipsum 3</h3>
                      <p id="description">Lorem Ipsum is slechts een proeftekst uit het drukkerij- en zetterijwezen.</p>
                      <div class="card-links">
                        <div class="card-link">
                          <i class="far fa-heart"></i>
                          <p id="likes">0</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-comment"></i>
                          <p id="comments">12</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-star"></i>
                          <p id="populairity">12</p>
                        </div>
                      </div>
                    </div>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div id="recipes" class="container-fluid cardSlider">
        <div class="row">
          <div class="col-12">
            <div class="sliderTitle">
              <h2>Recepten</h2>
            </div>
          </div>
          <div class="col-12 no-p-h">
            <div class="sliderContent carousel slide" data-ride="carousel" data-interval="false">
              <div class="carousel-inner">

              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="experiences" class="container-fluid cardSlider">
        <div class="row">
          <div class="col-12">
            <div class="sliderTitle">
              <h2>Ervaringen</h2>
            </div>
          </div>
          <div class="col-12 no-p-h">
            <div class="sliderContent carousel slide" data-ride="carousel" data-interval="false">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <a href="#" class="card experience">
                    <div class="card-content">
                      <h3 id="title">Lorem ipsum 1</h3>
                      <p id="description">Lorem Ipsum is slechts een proeftekst uit het drukkerij- en zetterijwezen.</p>
                      <div class="card-links">
                        <div class="card-link" id="cardlink2">
                          <i class="far fa-heart" id="heart2"></i>
                          <p id="likes2">0</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-comment"></i>
                          <p id="comments">12</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-star"></i>
                          <p id="populairity">12</p>
                        </div>
                      </div>
                    </div>
                  </a>
                </div>
                <div class="carousel-item">
                  <a href="#" class="card experience">
                    <div class="card-content">
                      <h3 id="title">Lorem ipsum 2</h3>
                      <p id="description">Lorem Ipsum is slechts een proeftekst uit het drukkerij- en zetterijwezen.</p>
                      <div class="card-links">
                        <div class="card-link">
                          <i class="far fa-heart"></i>
                          <p id="likes">0</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-comment"></i>
                          <p id="comments">12</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-star"></i>
                          <p id="populairity">12</p>
                        </div>
                      </div>
                    </div>
                  </a>
                </div>
                <div class="carousel-item">
                  <a href="#" class="card experience">
                    <div class="card-content">
                      <h3 id="title">Lorem ipsum 3</h3>
                      <p id="description">Lorem Ipsum is slechts een proeftekst uit het drukkerij- en zetterijwezen.</p>
                      <div class="card-links">
                        <div class="card-link">
                          <i class="far fa-heart"></i>
                          <p id="likes">0</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-comment"></i>
                          <p id="comments">12</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-star"></i>
                          <p id="populairity">12</p>
                        </div>
                      </div>
                    </div>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="updates" class="container-fluid cardSlider">
        <div class="row">
          <div class="col-12">
            <div class="sliderTitle">
              <h2>Updates</h2>
            </div>
          </div>
          <div class="col-12 no-p-h">
            <div class="sliderContent carousel slide" data-ride="carousel" data-interval="false">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <a href="#" class="card update">
                    <div class="card-content">
                      <h3 id="title">Lorem ipsum 1</h3>
                      <p id="description">Lorem Ipsum is slechts een proeftekst uit het drukkerij- en zetterijwezen.</p>
                      <div class="card-links" id="cardlink3">
                        <div class="card-link">
                          <i class="far fa-heart" id="heart3"></i>
                          <p id="likes3">0</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-comment"></i>
                          <p id="comments">12</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-star"></i>
                          <p id="populairity">12</p>
                        </div>
                      </div>
                    </div>
                  </a>
                </div>
                <div class="carousel-item">
                  <a href="#" class="card update">
                    <div class="card-content">
                      <h3 id="title">Lorem ipsum 2</h3>
                      <p id="description">Lorem Ipsum is slechts een proeftekst uit het drukkerij- en zetterijwezen.</p>
                      <div class="card-links">
                        <div class="card-link">
                          <i class="far fa-heart"></i>
                          <p id="likes">0</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-comment"></i>
                          <p id="comments">12</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-star"></i>
                          <p id="populairity">12</p>
                        </div>
                      </div>
                    </div>
                  </a>
                </div>
                <div class="carousel-item">
                  <a href="#" class="card update">
                    <div class="card-content">
                      <h3 id="title">Lorem ipsum 3</h3>
                      <p id="description">Lorem Ipsum is slechts een proeftekst uit het drukkerij- en zetterijwezen.</p>
                      <div class="card-links">
                        <div class="card-link">
                          <i class="far fa-heart"></i>
                          <p id="likes">0</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-comment"></i>
                          <p id="comments">12</p>
                        </div>
                        <div class="card-link">
                          <i class="far fa-star"></i>
                          <p id="populairity">12</p>
                        </div>
                      </div>
                    </div>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </section>
  </div>
  <nav>
    <ul id="mobile-nav" class="d-flex justify-content-between align-items-center">
      <li><a href="#"><i class="fas fa-home"></i></a></li>
      <li><a href="#"><i class="fas fa-route"></i></a></li>
      <li><a href="#"><i class="far fa-bell"></i></a></li>
      <li><a href="#" class="active"><i class="fas fa-user-friends"></i></a></li>
      <li><a href="#"><i class="far fa-bookmark"></i></a></li>
    </ul>
  </nav>
  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="js/statistics.js"></script>

</body>

</html>
